# SSH аутентификация на VPS сервере

В этом руководстве описывается процесс настройки SSH аутентификации на VPS сервере с использованием RSA ключей.

## Шаг 1: Генерация пары RSA ключей

Выполните:
```bash
ssh-keygen -t rsa -b 4096 -C "your_emai@email.com" -f C:\Users\{username}\.ssh\id_rsa_vps
```

Где:
* `-t rsa`  - тип ключа;
* `-b 4096` - длина ключа в битах; 
* `-C "your_emai@email.com"` - добавление комментария, например почта;
* `-f pathfile` - полный путь к файлу. Замените {username} на имя пользователя.

После этого у вас будут два файла:
* `id_rsa_vps.pub` - публичный ключ. его нужно добавить на vps сервер;
* `id_rsa_vps`     - приватный ключ. его нужно хранить в секрете.

## Шаг 2: Добавление публичного ключа на сервер

Создайте папку `.ssh`:
```bash
mkdir -p ~/.ssh
```
Создайте файл `authorized_keys`:
```bash
nano ~/.ssh/authorized_keys
```
Скопируйте содержимое публичного ключа `id_rsa_vps.pub` в файл `authorized_keys` и сохраните его.
Установите права на директорию и файл:
```bash
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
```

## Шаг 3: Настройка клиента

Убедитесь, что служба OpenSSH Authentication Agent запушена.

Добавьте ключ в ssh-agent:
```bash
ssh-add C:\Users\{username}\.ssh\id_rsa_vps
```
Проверьте, что ключ был добавлен
```bash
ssh-add -l
```
Если ключ успешно добавлен, вы увидите его в выводе.

Проверьте подключение к vps:
```bash
ssh -T user@vps_ip
```
